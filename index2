/** @jsxImportSource https://esm.sh/react@18.2.0 */
import React, { useState, useEffect } from "https://esm.sh/react@18.2.0";
import { createRoot } from "https://esm.sh/react-dom@18.2.0/client";

// Dynamic AI Image Generation Utility
const generateAIImage = (description: string) => 
  `https://maxm-imggenurl.web.val.run/${encodeURIComponent(description)}`;

// Futuristic Cyberpunk Color Palette
const COLORS = {
  background: '#0A1128',
  primary: '#0E6BA8',
  secondary: '#9C27B0',
  accent: '#00BCD4',
  text: '#E0E0E0',
  highlight: 'rgba(156, 39, 176, 0.3)'
};

// Animated Hover Effect Hook
function useHoverEffect() {
  const [isHovered, setIsHovered] = useState(false);
  
  const hoverProps = {
    onMouseEnter: () => setIsHovered(true),
    onMouseLeave: () => setIsHovered(false),
    style: {
      transform: isHovered ? 'scale(1.05)' : 'scale(1)',
      transition: 'transform 0.3s ease',
      boxShadow: isHovered ? `0 0 15px ${COLORS.secondary}` : 'none'
    }
  };

  return hoverProps;
}

function AboutSection() {
  const hoverProps = useHoverEffect();

  return (
    <div>
      <h1 style={{ color: COLORS.accent }}>Angela Naliaka: Urban Tech Visionary</h1>
      <div style={{ display: 'flex', alignItems: 'center' }} {...hoverProps}>
        <img 
          src={generateAIImage('Futuristic tech professional in cyberpunk style portrait of Angela Naliaka')} 
          alt="Angela Naliaka Portrait" 
          style={{ 
            width: '300px', 
            borderRadius: '50%', 
            border: `4px solid ${COLORS.primary}`,
            transition: 'all 0.3s ease'
          }}
        />
        <div style={{ marginLeft: '2rem' }}>
          <p style={{ fontStyle: 'italic', marginBottom: '1rem' }}>
            👩‍💻 Urban Planner | 💻 Software Developer | 🎨 Graphic Designer
          </p>
          <p>
            Hey, I'm Angela Naliaka—an urban planner, software developer, and graphic designer 
            with a mission to revolutionize smart cities. I blend code, creativity, and urban 
            blueprints to build tech-driven solutions for sustainable urban development, 
            smart mobility, and futuristic infrastructure.
          </p>
          <p style={{ marginTop: '1rem' }}>
            When I'm not designing the cities of tomorrow, I'm probably sketching bold branding 
            concepts, optimizing telemedicine platforms, or dreaming up a world where AI and 
            sustainability redefine urban life. 🚀
          </p>

          <div style={{ marginTop: '1rem' }}>
            <h3 style={{ color: COLORS.secondary }}>🚀 Programming Languages</h3>
            <ul style={{ 
              listStyleType: 'disc', 
              paddingLeft: '2rem',
              color: COLORS.accent,
              fontWeight: 'bold'
            }}>
              <li>Python</li>
              <li>JavaScript</li>
              <li>SQL</li>
              <li>HTML/CSS</li>
              <li>Node.js</li>
            </ul>
          </div>

          <div style={{ marginTop: '1rem' }}>
            <h3 style={{ color: COLORS.secondary }}>🎓 Educational Background</h3>
            <p style={{ 
              background: 'rgba(255,255,255,0.05)', 
              padding: '10px', 
              borderRadius: '5px',
              borderLeft: `4px solid ${COLORS.accent}`
            }}>
              • Bachelor of Science in Urban & Regional Planning – Kenyatta University
            </p>
            <p style={{ 
              background: 'rgba(255,255,255,0.05)', 
              padding: '10px', 
              borderRadius: '5px',
              borderLeft: `4px solid ${COLORS.accent}`
            }}>
              • Software Engineering Certification – Power Learn Project
            </p>
            <a 
              href="https://drive.google.com/file/d/1c26cyrXqhKFlR_c9TaaWdKvRNQ9-bhe0/view?usp=sharing" 
              target="_blank"
              style={{
                color: COLORS.accent,
                textDecoration: 'none',
                border: `1px solid ${COLORS.accent}`,
                padding: '0.5rem',
                borderRadius: '5px',
                display: 'inline-block',
                marginTop: '0.5rem',
                transition: 'all 0.3s ease',
                ':hover': {
                  background: COLORS.accent,
                  color: COLORS.background
                }
              }}
            >
              📄 Download My CV
            </a>
          </div>

          <div style={{ marginTop: '1rem' }}>
            <h3 style={{ color: COLORS.secondary }}>💡 Interests & Passion</h3>
            <ul style={{ 
              listStyleType: 'none', 
              padding: 0,
              display: 'grid',
              gridTemplateColumns: 'repeat(2, 1fr)',
              gap: '10px'
            }}>
              <li style={{ 
                background: 'rgba(255,255,255,0.05)', 
                padding: '10px', 
                borderRadius: '5px',
                borderLeft: `4px solid ${COLORS.primary}`
              }}>🚗 Smart Mobility – Designing urban spaces where EVs and AI-powered transit systems rule the roads.</li>
              <li style={{ 
                background: 'rgba(255,255,255,0.05)', 
                padding: '10px', 
                borderRadius: '5px',
                borderLeft: `4px solid ${COLORS.primary}`
              }}>🏙️ Smart Cities – Integrating IoT, AI, and renewable energy to build futuristic, sustainable urban environments.</li>
              <li style={{ 
                background: 'rgba(255,255,255,0.05)', 
                padding: '10px', 
                borderRadius: '5px',
                borderLeft: `4px solid ${COLORS.primary}`
              }}>🎨 Visual Branding – Crafting digital and physical experiences that bring futuristic aesthetics to life.</li>
              <li style={{ 
                background: 'rgba(255,255,255,0.05)', 
                padding: '10px', 
                borderRadius: '5px',
                borderLeft: `4px solid ${COLORS.primary}`
              }}>💻 Hackathons & Innovation – I love pushing limits, solving challenges, and building the next big thing.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
}

// Rest of the code remains unchanged... (omitted for brevity, but would be the exact same as the original)

function server(request: Request): Response {
  return new Response(`
    <html>
      <head>
        <title>Angela Naliaka - Urban Tech Visionary</title>
        <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
        <style>
          body { 
            margin: 0; 
            background: ${COLORS.background}; 
            color: ${COLORS.text}; 
            scrollbar-width: thin;
            scrollbar-color: ${COLORS.secondary} ${COLORS.background};
          }
          /* Custom Scrollbar */
          body::-webkit-scrollbar {
            width: 12px;
          }
          body::-webkit-scrollbar-track {
            background: ${COLORS.background};
          }
          body::-webkit-scrollbar-thumb {
            background-color: ${COLORS.secondary};
            border-radius: 20px;
            border: 3px solid ${COLORS.background};
          }
          /* Smooth Transitions */
          * {
            transition: all 0.3s ease;
          }
          /* Responsive Design Adjustments */
          @media (max-width: 768px) {
            [style*="display: flex"] {
              flex-direction: column;
              align-items: center;
            }
          }
        </style>
      </head>
      <body>
        <div id="root"></div>
        <script src="https://esm.town/v/std/catch"></script>
        <script type="module" src="${import.meta.url}"></script>
      </body>
    </html>
  `, {
    headers: {
      "content-type": "text/html",
    },
  });
}

export default server;
